1、概述
本文档主要描述搜索程序——search和前台页面——portal的交互流程
二者的通信方式为套接字通信，降低二者的耦合度。降低程序的复杂度。
search端口设置为：19999

2、交互协议
交互的报文由报头和报文数据组成。
报头由5个int(4个字节)组成，含义依次为：
报文命令、报文数据长度、参数1、参数2、参数3
参数置0表示参数并未被赋予含义。

3、报文命令定义

PORTAL_SEARCH_QUERY 1
//这是PORTAL 向 SEARCH 发出的 QUERY 命令
报头定义为：PORTAL_SEARCH_QUERY | 报文数据长度 | 
参数1 | 参数2 | 参数3 （所有参数都为0）
后接报文数据

PORTAL_SEARCH_QUERY_OK 2
//这是SEARCH 回复 PORTAL的 命令，表示查询结束，给出查询结果
报头定义为：PORTAL_SEARCH_QUERY_OK | 报文数据长度 | 
参数1（表示一共有多少个查询结果） | 参数2（本报文是第几个查询结果）
| 参数3 （）
后接报文数据
查询结果数据的组织方式：
title\nurl\n网页摘要


PORTAL_SEARCH_QUERY_ARGUMENT_ILLEGAL 3
//这是SEARCH 回复 PORTAL的 命令，表示查询结束，查询的关键词非法
//这里的非法包括：目前搜索引擎仅仅支持纯中文的搜索（由于UTF-8是变长编码，
所以为了简化分词程序设计，仅仅搜索中文）所以如果要查询纯英文，那么
关键词分词之后就是一个空串。不能搜索。
报头定义为：PORTAL_SEARCH_QUERY_ARGUMENT_ILLEGAL | 0 | 
参数1 | 参数2 | 参数3 （所有参数都为0）


PORTAL_SEARCH_QUERY_OTHER_ERROR 4
//这是SEARCH 回复 PORTAL的 命令，表示查询结束，表示其他的未知的错误
报头定义为：PORTAL_SEARCH_QUERY_OTHER_ERROR | 0 | 
参数1 | 参数2 | 参数3 （所有参数都为0）


4、常用const常量定义
CAN_NOT_CONNECT_SEARCH 1
SEARCH_LIETN_PORT 19999


5、Notes
①：网络交互过程中记得字节序的问题，发送前转换为网络字节序，接收到
后转为主机字节序。